The Completer is not required to utilize the DBID field, and is permitted to set the DBID to any value in:

- WriteNoSnpZero and WriteUniqueZero transactions.
- Read transactions without CompAck.
- Dataless transactions without CompAck.
- Snoop response to a Stash snoop that does not include a Data Pull.
- Snoop response to a Non-stash snoop.

> **_NOTE:_** The advantage of using the DBID assigned by the Completer, instead of the TxnID assigned by the Requester, is that the Completer can use the DBID to index into its request structure instead of performing a lookup using TxnID and SrcID to determine which transaction write data or completion acknowledge is associated with which request.
>
> If a Completer is using the same DBID value for different Requesters, which it must do if its operation requires more than 1024 DBID responses to be active at the same time, SrcID with DBID must be used to determine which request should be associated with a write data or response message.

The DBIDResp response is also used to provide certain ordering guarantees relating to the transaction. See B2.6.5 Transaction ordering.

### B2.4.4 Return Transaction Identifier, ReturnTxnID

A transaction request from Home to Subordinate also includes a ReturnTxnID field to convey the value of TxnID in the data response and the DBIDResp response from the Subordinate.

Its value, when applicable, must be either:

- The TxnID generated by Home, when the ReturnNID is the node ID of the Home.
- The TxnID of the original Requester, when the ReturnNID is the node ID of the original Requester.

ReturnTxnID is only applicable in a ReadNoSnp, ReadNoSnpSep, WriteNoSnp, Combined Write, and Atomic requests from Home to Subordinate. The field is inapplicable and must be set to 0 in all other requests from Home to Subordinate.

ReturnTxnID is inapplicable and must be set to 0 in all requests from Requester to Home, and Requester to Subordinate.

The following are the expected and permitted values for ReturnTxnID in requests from the Home Node to the Subordinate Node.

In ReadNoSnp and ReadNoSnpSep:

- Expected value is the original Requester TxnID but permitted to be the Home TxnID.
- Used as the TxnID in the CompData and DataSepResp responses.

In Atomic with TagOp Invalid or Match :

- For AtomicStore, the ReturnTxnID can take any value, and the value is not used in any response.
- For Non-store Atomics, the ReturnTxnID must be the Home TxnID. The value is used as the TxnID in the CompData response.

In WriteNoSnp with any TagOp value:

- When DoDWT = 0, ReturnTxnID can take any value, and the value is not used in any response.
- When DoDWT = 1, the ReturnTxnID value is expected to be the original Requester TxnID but is permitted to be the Home TxnID. Used as the TxnID in the DBIDResp response.