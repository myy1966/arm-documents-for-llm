Table B14.2 â€“ Continued from previous page

| State              | Transmitter behavior                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       | Receiver behavior                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  |
|--------------------|------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| DEACTIVATE (DEACT) | It is recommended that the Transmitter enters the DEACTIVATE state only when no more Protocol flits can be sent. Therefore, it is expected that the Transmitter returns credits using only L-Credit return flits. </br> The Transmitter must be prepared to continue receiving credits. For each additional credit received, the Transmitter must send an L-Credit return flit to return the credit. </br> The Transmitter remains in the DEACTIVATE state while waiting for the Receiver to acknowledge the move to the STOP state. At this point, the Receiver is guaranteed to receive no more credits. | The Receiver must be prepared to receive flits, other than Link flits to return credits, in this state. This is not expected, but can occur. </br> The Receiver is permitted, but not required, to send credits when first entering this state. However, the Receiver must have stopped sending credits and had all credits returned before exiting this state. </br> The Receiver receives L-Credit return flits until all credits are returned. </br> The Receiver must wait for all credits to be returned before deasserting **LINKACTIVEACK**. </br> **Note** </br> The Receiver only receives flits in the DEACTIVATE state when there is a race between the Transmitter sending the last remaining flits and deasserting **LINKACTIVEREQ** to move to the DEACTIVATE state. |

Table B14.3 summarizes the required behavior described in detail in Table B14.2.

Table B14.3: Summary of behavior for each Request and Acknowledge state

| State | Transmitter                                                                                                         | Receiver                                           |
|-------|---------------------------------------------------------------------------------------------------------------------|----------------------------------------------------|
| STOP  | Must not send flits </br> Does not receive credits                                                                  | Must not send credits </br> Does not receive flits |
| ACT   | Must not send flits </br> Must accept credits                                                                       | Must not send credits </br> Does not receive flits |
| RUN   | Can send flits </br> Must accept credits                                                                            | Must accept flits </br> Can send credits           |
| DEACT | Expected to send L-Credit return flits </br> Can send any flits </br> Must accept credits </br> Must return credits | Must accept flits </br> Must stop sending credits  |
