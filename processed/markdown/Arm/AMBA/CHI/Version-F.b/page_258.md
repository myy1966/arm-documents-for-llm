Table B4.55 – Continued from previous page

| Snoopee cache state </br > Initial | Snoopee cache state </br> Final expected | Snoopee cache state </br> Final permitted | RetToSrc | Response to Requester | Response to Home              | TagOp value in response to Home </br> Initial start state of Dirty ᵃ | TagOp value in response to Home </br> Initial start state of Dirty | TagOp value in response to Home </br> Initial start state of Invalid or Clean |
|------------------------------------|------------------------------------------|-------------------------------------------|----------|-----------------------|-------------------------------|----------------------------------------------------------------------|--------------------------------------------------------------------|-------------------------------------------------------------------------------|
| UD                                 | UD                                       | -                                         | 0        | CompData\_I           | SnpResp\_UD\_Fwded\_I         | P ᵇ                                                                  | -                                                                  | -                                                                             |
| UD                                 | SD                                       | -                                         | 0        | CompData\_I           | SnpResp\_SD\_Fwded\_I         | P ᵇ                                                                  | -                                                                  | -                                                                             |
| UD                                 | SC                                       | I                                         | 0        | CompData\_I           | SnpRespData\_SC\_PD\_Fwded\_I | P                                                                    | Update ᶜ                                                           | I,Transfer ᵈ                                                                  |
| UD                                 | I                                        | -                                         | 0        | CompData\_I           | SnpRespData\_I\_PD\_Fwded\_I  | P                                                                    | Update                                                             | I,Transfer                                                                    |
| UDP                                | UDP                                      | -                                         | 0        | No Fwd                | SnpRespDataPtl\_UD            | -                                                                    | -                                                                  | I                                                                             |
| UDP                                | I                                        | -                                         | 0        | No Fwd                | SnpRespDataPtl\_I\_PD         | -                                                                    | -                                                                  | I                                                                             |
| SC                                 | SC                                       | I                                         | 0        | No Fwd                | SnpResp\_SC                   | -                                                                    | -                                                                  | -                                                                             |
| SC                                 | SC                                       | I                                         | 0        | CompData\_I           | SnpResp\_SC\_Fwded\_I         | -                                                                    | -                                                                  | -                                                                             |
| SC                                 | I                                        | -                                         | 0        | No Fwd                | SnpResp\_I                    | -                                                                    | -                                                                  | -                                                                             |
| SC                                 | I                                        | -                                         | 0        | CompData\_I           | SnpResp\_I\_Fwded\_I          | -                                                                    | -                                                                  | -                                                                             |
| SD                                 | SD                                       | -                                         | 0        | CompData\_I           | SnpResp\_SD\_Fwded\_I         | P ᵇ                                                                  | -                                                                  | -                                                                             |
| SD                                 | SC                                       | I                                         | 0        | CompData\_I           | SnpRespData\_SC\_PD\_Fwded\_I | P                                                                    | Update                                                             | I,Transfer                                                                    |
| SD                                 | I                                        | -                                         | 0        | CompData\_I           | SnpRespData\_I\_PD\_Fwded\_I  | P                                                                    | Update                                                             | I,Transfer                                                                    |

- ᵃ Indicates if the transition itself is permitted or not. This column is only relevant when the tag initial state is Dirty.
- ᵇ This transition is permitted, even though the Snoop response does not include data and the tag state is Dirty, because Dirty tags are retained by the Snoopee.
- ᶜ This transition from tag state of Dirty is permitted because a Dirty copy of tags and data are passed to the Home.
- ᵈ This transaction from an initial state of Dirty data, and Invalid or Clean tags, includes the Snoop response of data with Clean tags when available

#### B4.8.3.2 SnpCleanFwd, SnpNotSharedDirtyFwd

The rules, in addition to the common rules, to be followed by a Snoopee that receives a SnpCleanFwd or a SnpNotSharedDirtyFwd are:

- Snoopee must forward the cache line in SC state.
- Snoopee must transition to either SD, SC, or I state.
- For behavior related to the RetToSrc bit see B4.9 Returning Data with Snoop response.

Table B4.56 shows the Snoopee cache state transitions and the required Snoop responses.

See Table B4.54 for the symbol key.